{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///createjs-snakes.min.js","webpack:///webpack/bootstrap db5c725166a3a365db26","webpack:///./src/classes/lib/container.ts","webpack:///./src/utils/random.ts","webpack:///./src/const.ts","webpack:///./index.ts","webpack:///./src/main-scene.ts","webpack:///./src/classes/lib/scene.ts","webpack:///./src/classes/snake-row-container.ts","webpack:///./src/classes/snake.ts"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","value","random_1","Container","_super","_this","apply","arguments","_timers","randomDelay","fn","from","to","timer","cb","index","indexOf","splice","clearTimeout","delay","destroy","forEach","children","createjs","range","min","max","Math","random","rangeInt","floor","ctx","args","setTimeout","bind","delayPromise","Promise","resolve","chance","CREATEJS_TIMING_MODE","Ticker","RAF_SYNCHED","CREATEJS_FRAMERATE","GRADIENT_TOP_COLOR","GRADIENT_BOTTOM_COLOR","LINES_COUNT","SNAKES_PER_LINE_COUNT","SNAKE_LENGTH","SNAKE_COLOR","SNAKE_ALPHA_FRAMES","SNAKE_FADE_STEP","start","canvas","scene","main_scene_1","MainScene","restart","scene_1","snake_row_container_1","constants","containers","_initSceneObjects","render","container","play","removeAllChildren","setBgColors","top","bottom","_initBackground","_initSnakeContainers","topColor","bottomColor","removeChild","backgroundShape","Shape","graphics","beginLinearGradientFill","canvasHeight","drawRect","canvasWidth","cache","addChildAt","size","SnakeRowContainer","push","y","addChild","Scene","_started","width","height","_attachEvents","dispatchEvent","Event","stop","_detachEvents","update","addEventListener","removeAllEventListeners","removeEventListener","Stage","container_1","snake_1","snakeCount","snakeSize","snakeLength","maxWidth","_initSnakes","snake","_createSnake","on","_a","target","x","Snake","direction","SnakeDirection","Right","Left","Up","Down","length","margin","padding","maxSteps","_currentFrames","_counter","_steps","_stepsLeft","_stepsRight","_stepsUp","_stepsDown","_addShape","_move","_fade","shape","alpha","_getNextAlphaFrame","getChildAt","event_1","data","step","alive","beginFill","shapeIndex"],"mappings":"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","file":"createjs-snakes.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"createjs-snakes\"] = factory();\n\telse\n\t\troot[\"createjs-snakes\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"createjs-snakes\"] = factory();\n\telse\n\t\troot[\"createjs-snakes\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar random_1 = __webpack_require__(1);\r\nvar Container = /** @class */ (function (_super) {\r\n    __extends(Container, _super);\r\n    function Container() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._timers = [];\r\n        return _this;\r\n    }\r\n    Container.prototype.randomDelay = function (fn, from, to) {\r\n        var timer;\r\n        var cb = function callback() {\r\n            fn.call(this);\r\n            var index = this._timers.indexOf(timer);\r\n            if (index !== -1) {\r\n                this._timers.splice(index, 1);\r\n            }\r\n            clearTimeout(timer);\r\n        };\r\n        timer = random_1.delay(cb, from, to, this);\r\n    };\r\n    Container.prototype.destroy = function () {\r\n        this._timers.forEach(function (timer) { return clearTimeout(timer); });\r\n        // .removeAllChildren method is slower than just reinitializing the array\r\n        this.children = [];\r\n    };\r\n    return Container;\r\n}(createjs.Container));\r\nexports.Container = Container;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction range(min, max) {\r\n    if (min === void 0) { min = 0; }\r\n    if (max === void 0) { max = 1; }\r\n    return Math.random() * (max - min) + min;\r\n}\r\nexports.range = range;\r\nfunction rangeInt(min, max) {\r\n    if (min === void 0) { min = 0; }\r\n    if (max === void 0) { max = 1; }\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\nexports.rangeInt = rangeInt;\r\nfunction delay(fn, from, to, ctx, args) {\r\n    if (from === void 0) { from = 0; }\r\n    if (to === void 0) { to = 1000; }\r\n    if (ctx === void 0) { ctx = null; }\r\n    if (args === void 0) { args = null; }\r\n    return setTimeout(fn.bind(ctx, args), rangeInt(from, to));\r\n}\r\nexports.delay = delay;\r\nfunction delayPromise(fn, from, to, ctx, args) {\r\n    var _this = this;\r\n    if (from === void 0) { from = 0; }\r\n    if (to === void 0) { to = 1000; }\r\n    if (ctx === void 0) { ctx = null; }\r\n    if (args === void 0) { args = null; }\r\n    return new Promise(function (resolve) {\r\n        delay(function () {\r\n            resolve(fn.apply(ctx || _this, args));\r\n        }, from, to, ctx, args);\r\n    });\r\n}\r\nexports.delayPromise = delayPromise;\r\nfunction chance(p) {\r\n    if (p === void 0) { p = 0.1; }\r\n    return Math.random() <= p;\r\n}\r\nexports.chance = chance;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CREATEJS_TIMING_MODE = createjs.Ticker.RAF_SYNCHED;\r\nexports.CREATEJS_FRAMERATE = 20;\r\nexports.GRADIENT_TOP_COLOR = '#182848';\r\nexports.GRADIENT_BOTTOM_COLOR = '#4b6cb7';\r\nexports.LINES_COUNT = 20;\r\nexports.SNAKES_PER_LINE_COUNT = 3;\r\nexports.SNAKE_LENGTH = 10;\r\nexports.SNAKE_COLOR = '#FFF';\r\nexports.SNAKE_ALPHA_FRAMES = [0, 0.1, 0.2, 0.3, 0.3, 0.3, 0.3, 0.25, 0.2, 0.15, 0.14, 0.13, 0.12, 0.1];\r\nexports.SNAKE_FADE_STEP = 0.01;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar main_scene_1 = __webpack_require__(4);\r\nexports.MainScene = main_scene_1.MainScene;\r\nvar scene;\r\nfunction start(canvas) {\r\n    if (!scene) {\r\n        scene = new main_scene_1.MainScene(canvas);\r\n    }\r\n    return scene.start();\r\n}\r\nexports.start = start;\r\nfunction restart() {\r\n    return scene && scene.restart();\r\n}\r\nexports.restart = restart;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar scene_1 = __webpack_require__(5);\r\nvar snake_row_container_1 = __webpack_require__(6);\r\nvar constants = __webpack_require__(2);\r\nvar MainScene = /** @class */ (function (_super) {\r\n    __extends(MainScene, _super);\r\n    function MainScene(canvas) {\r\n        var _this = _super.call(this, canvas) || this;\r\n        _this.containers = [];\r\n        _this._initSceneObjects();\r\n        return _this;\r\n    }\r\n    MainScene.prototype.render = function () {\r\n        this.containers.forEach(function (container) { return container.play(); });\r\n        _super.prototype.render.call(this);\r\n    };\r\n    MainScene.prototype.restart = function () {\r\n        this.removeAllChildren();\r\n        this._initSceneObjects();\r\n        return this;\r\n    };\r\n    MainScene.prototype.setBgColors = function (top, bottom) {\r\n        this._initBackground(top, bottom);\r\n    };\r\n    MainScene.prototype._initSceneObjects = function () {\r\n        this._initBackground(constants.GRADIENT_TOP_COLOR, constants.GRADIENT_BOTTOM_COLOR);\r\n        this._initSnakeContainers();\r\n    };\r\n    MainScene.prototype._initBackground = function (topColor, bottomColor) {\r\n        this.removeChild(this.backgroundShape);\r\n        this.backgroundShape = new createjs.Shape();\r\n        this.backgroundShape.graphics\r\n            .beginLinearGradientFill([topColor, bottomColor], [0, 1], 0, 20, 0, this.canvasHeight - 20)\r\n            .drawRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n        this.backgroundShape.cache(0, 0, this.canvasWidth, this.canvasHeight);\r\n        this.addChildAt(this.backgroundShape, 0);\r\n        return this.backgroundShape;\r\n    };\r\n    MainScene.prototype._initSnakeContainers = function () {\r\n        // call destroy on every element to stop timers\r\n        this.containers.forEach(function (container) { return container.destroy(); });\r\n        this.containers = [];\r\n        var size = this.canvasHeight / constants.LINES_COUNT;\r\n        for (var i = 0; i < constants.LINES_COUNT; i++) {\r\n            var container = new snake_row_container_1.SnakeRowContainer(constants.SNAKES_PER_LINE_COUNT, size, constants.SNAKE_LENGTH, this.canvasWidth);\r\n            this.containers.push(container);\r\n            container.y = i * size;\r\n            this.addChild(container);\r\n        }\r\n    };\r\n    return MainScene;\r\n}(scene_1.Scene));\r\nexports.MainScene = MainScene;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Scene = /** @class */ (function (_super) {\r\n    __extends(Scene, _super);\r\n    function Scene(canvas) {\r\n        var _this = _super.call(this, canvas) || this;\r\n        _this._started = false;\r\n        _this.render = _this.render.bind(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Scene.prototype, \"canvasWidth\", {\r\n        get: function () {\r\n            return this.canvas.width;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scene.prototype, \"canvasHeight\", {\r\n        get: function () {\r\n            return this.canvas.height;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Scene.prototype.start = function () {\r\n        if (!this._started) {\r\n            this._attachEvents();\r\n            this._started = true;\r\n            this.dispatchEvent(new createjs.Event('start', true, true));\r\n        }\r\n        return this;\r\n    };\r\n    Scene.prototype.stop = function () {\r\n        this._started = false;\r\n        this._detachEvents();\r\n        this.dispatchEvent(new createjs.Event('stop', true, true));\r\n        return this;\r\n    };\r\n    Scene.prototype.render = function () {\r\n        this.update();\r\n    };\r\n    Scene.prototype._attachEvents = function () {\r\n        createjs.Ticker.addEventListener('tick', this.render);\r\n    };\r\n    Scene.prototype._detachEvents = function () {\r\n        this.removeAllEventListeners();\r\n        createjs.Ticker.removeEventListener('tick', this.render);\r\n    };\r\n    return Scene;\r\n}(createjs.Stage));\r\nexports.Scene = Scene;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(0);\r\nvar snake_1 = __webpack_require__(7);\r\nvar random_1 = __webpack_require__(1);\r\nvar SnakeRowContainer = /** @class */ (function (_super) {\r\n    __extends(SnakeRowContainer, _super);\r\n    function SnakeRowContainer(snakeCount, snakeSize, snakeLength, maxWidth) {\r\n        if (snakeCount === void 0) { snakeCount = 3; }\r\n        if (snakeSize === void 0) { snakeSize = 30; }\r\n        if (snakeLength === void 0) { snakeLength = 10; }\r\n        if (maxWidth === void 0) { maxWidth = 300; }\r\n        var _this = _super.call(this) || this;\r\n        _this.snakeCount = snakeCount;\r\n        _this.snakeSize = snakeSize;\r\n        _this.snakeLength = snakeLength;\r\n        _this.maxWidth = maxWidth;\r\n        _this.randomDelay(_this._initSnakes, 0, 1000);\r\n        return _this;\r\n    }\r\n    SnakeRowContainer.prototype.play = function () {\r\n        this.children.forEach(function (snake) { return snake.play(); });\r\n    };\r\n    SnakeRowContainer.prototype._initSnakes = function () {\r\n        var _this = this;\r\n        for (var i = 0; i < this.snakeCount; i++) {\r\n            this.randomDelay(this.addChild.bind(this, this._createSnake()), 0, 3000);\r\n        }\r\n        this.on('fade', function (_a) {\r\n            var target = _a.target;\r\n            _this.removeChild(target);\r\n            _this.addChild(_this._createSnake());\r\n        });\r\n    };\r\n    SnakeRowContainer.prototype._createSnake = function () {\r\n        var x = random_1.rangeInt(0, this.maxWidth / this.snakeSize) * this.snakeSize;\r\n        var snake = new snake_1.Snake(this.snakeLength, this.snakeSize);\r\n        snake.y = 0;\r\n        snake.x = x;\r\n        snake.direction = random_1.chance(0.5) ? snake_1.SnakeDirection.Right : snake_1.SnakeDirection.Left;\r\n        return snake;\r\n    };\r\n    return SnakeRowContainer;\r\n}(container_1.Container));\r\nexports.SnakeRowContainer = SnakeRowContainer;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(0);\r\nvar constants = __webpack_require__(2);\r\nvar SnakeDirection;\r\n(function (SnakeDirection) {\r\n    SnakeDirection[SnakeDirection[\"Left\"] = 0] = \"Left\";\r\n    SnakeDirection[SnakeDirection[\"Right\"] = 1] = \"Right\";\r\n    SnakeDirection[SnakeDirection[\"Up\"] = 2] = \"Up\";\r\n    SnakeDirection[SnakeDirection[\"Down\"] = 3] = \"Down\";\r\n})(SnakeDirection = exports.SnakeDirection || (exports.SnakeDirection = {}));\r\nvar Snake = /** @class */ (function (_super) {\r\n    __extends(Snake, _super);\r\n    function Snake(length, size, margin, padding, maxSteps) {\r\n        if (length === void 0) { length = 10; }\r\n        if (size === void 0) { size = 30; }\r\n        if (margin === void 0) { margin = 2; }\r\n        if (padding === void 0) { padding = 2; }\r\n        if (maxSteps === void 0) { maxSteps = 10; }\r\n        var _this = _super.call(this) || this;\r\n        _this.length = length;\r\n        _this.size = size;\r\n        _this.margin = margin;\r\n        _this.padding = padding;\r\n        _this.maxSteps = maxSteps;\r\n        _this.direction = SnakeDirection.Left;\r\n        _this._currentFrames = [];\r\n        _this._counter = 0;\r\n        _this._steps = 0;\r\n        _this._stepsLeft = 0;\r\n        _this._stepsRight = 0;\r\n        _this._stepsUp = 0;\r\n        _this._stepsDown = 0;\r\n        _this._addShape(0, 0);\r\n        return _this;\r\n    }\r\n    Snake.prototype.play = function () {\r\n        if (this._steps <= this.maxSteps) {\r\n            this._move();\r\n        }\r\n        else {\r\n            this._fade();\r\n        }\r\n    };\r\n    Snake.prototype._move = function () {\r\n        var _this = this;\r\n        ++this._counter;\r\n        this.children.forEach(function (shape, index) {\r\n            shape.alpha = _this._getNextAlphaFrame(index);\r\n        });\r\n        if (this.children.length >= this.length) {\r\n            this.removeChild(this.getChildAt(0));\r\n            this._currentFrames.splice(0, 1);\r\n        }\r\n        if (this._counter % 3 === 0 && this.children.length < this.length) {\r\n            this._counter = 0;\r\n            this._steps++;\r\n            switch (this.direction) {\r\n                case SnakeDirection.Right:\r\n                    this._addShape(++this._stepsRight * this.size);\r\n                    break;\r\n                case SnakeDirection.Left:\r\n                    this._addShape(-(++this._stepsLeft * this.size));\r\n                    break;\r\n                case SnakeDirection.Down:\r\n                    this._addShape(this.x, ++this._stepsDown * this.size);\r\n                    break;\r\n                case SnakeDirection.Up:\r\n                    this._addShape(this.x, -(++this._stepsUp * this.size));\r\n                    break;\r\n            }\r\n            var event_1 = new createjs.Event('step', true, true);\r\n            event_1.data = { step: this._steps };\r\n            this.dispatchEvent(event_1);\r\n        }\r\n    };\r\n    Snake.prototype._fade = function () {\r\n        var alive = false;\r\n        this.children.forEach(function (shape) {\r\n            shape.alpha -= constants.SNAKE_FADE_STEP;\r\n            shape.alpha > 0 && (alive = true);\r\n        });\r\n        if (!alive) {\r\n            this.dispatchEvent(new createjs.Event('fade', true, true));\r\n        }\r\n    };\r\n    Snake.prototype._addShape = function (x, y) {\r\n        if (y === void 0) { y = 0; }\r\n        var shape = new createjs.Shape();\r\n        shape.graphics\r\n            .beginFill(constants.SNAKE_COLOR)\r\n            .drawRect(x + this.padding, y + this.padding, this.size - this.padding, this.size - this.padding);\r\n        shape.alpha = 0;\r\n        this.addChild(shape);\r\n    };\r\n    Snake.prototype._getNextAlphaFrame = function (shapeIndex) {\r\n        if (this._currentFrames[shapeIndex] === undefined) {\r\n            this._currentFrames[shapeIndex] = 0;\r\n        }\r\n        else if (this._currentFrames[shapeIndex] < constants.SNAKE_ALPHA_FRAMES.length - 1) {\r\n            this._currentFrames[shapeIndex]++;\r\n        }\r\n        return constants.SNAKE_ALPHA_FRAMES[this._currentFrames[shapeIndex]];\r\n    };\r\n    return Snake;\r\n}(container_1.Container));\r\nexports.Snake = Snake;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// createjs-snakes.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap db5c725166a3a365db26","import { delay } from '../../utils/random';\n\nexport class Container extends createjs.Container {\n    private _timers: number[] = [];\n\n    randomDelay(fn: Function, from: number, to: number) {\n        let timer: number;\n        const cb: Function = function callback() {\n            fn.call(this);\n            const index = this._timers.indexOf(timer);\n            if (index !== -1) {\n                this._timers.splice(index, 1);\n            }\n            clearTimeout(timer);\n        };\n        timer = delay(cb,  from, to, this);\n    }\n\n    destroy() {\n        this._timers.forEach((timer: number) => clearTimeout(timer));\n        // .removeAllChildren method is slower than just reinitializing the array\n        this.children = [];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/lib/container.ts","export function range(min: number = 0, max: number = 1): number {\n    return Math.random() * (max - min) + min;\n}\n\nexport function rangeInt(min: number = 0, max: number = 1): number {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function delay(fn: Function, from: number = 0, to: number = 1000, ctx: Object = null, args: any[] = null): number {\n    return setTimeout(fn.bind(ctx, args), rangeInt(from, to));\n}\n\nexport function delayPromise(fn: Function, from: number = 0, to: number = 1000, ctx: Object = null, args: any[] = null): Promise<any> {\n    return new Promise(resolve => {\n        delay(() => {\n            resolve(fn.apply(ctx || this, args));\n        }, from, to, ctx, args);\n    });\n}\n\nexport function chance(p: number = 0.1): boolean {\n    return Math.random() <= p;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/random.ts","export const CREATEJS_TIMING_MODE = createjs.Ticker.RAF_SYNCHED;\nexport const CREATEJS_FRAMERATE = 20;\n\nexport const GRADIENT_TOP_COLOR = '#182848';\nexport const GRADIENT_BOTTOM_COLOR = '#4b6cb7';\n\nexport const LINES_COUNT = 20;\nexport const SNAKES_PER_LINE_COUNT = 3;\n\nexport const SNAKE_LENGTH = 10;\nexport const SNAKE_COLOR = '#FFF';\nexport const SNAKE_ALPHA_FRAMES = [0, 0.1, 0.2, 0.3, 0.3, 0.3, 0.3, 0.25, 0.2, 0.15, 0.14, 0.13, 0.12, 0.1];\nexport const SNAKE_FADE_STEP = 0.01;\n\n\n// WEBPACK FOOTER //\n// ./src/const.ts","import { MainScene } from './src/main-scene';\n\nlet scene: MainScene;\n\nfunction start(canvas: HTMLCanvasElement): MainScene {\n    if (!scene) {\n        scene = new MainScene(canvas);\n    }\n    return scene.start();\n}\n\nfunction restart(): MainScene {\n    return scene && scene.restart();\n}\n\nexport { MainScene, start, restart };\n\n\n// WEBPACK FOOTER //\n// ./index.ts","import { Scene } from './classes/lib/scene';\nimport { SnakeRowContainer } from './classes/snake-row-container';\nimport * as constants from './const';\n\nexport class MainScene extends Scene {\n    public backgroundShape: createjs.Shape;\n    public containers: SnakeRowContainer[] = [];\n\n    constructor(\n        canvas: HTMLCanvasElement | string | Object\n    ) {\n        super(canvas);\n        this._initSceneObjects();\n    }\n\n    render() {\n        this.containers.forEach((container: SnakeRowContainer) => container.play());\n        super.render();\n    }\n\n    restart(): MainScene {\n        this.removeAllChildren();\n        this._initSceneObjects();\n        return this;\n    }\n\n    public setBgColors(top: string, bottom: string) {\n        this._initBackground(top, bottom);\n    }\n\n    private _initSceneObjects() {\n        this._initBackground(constants.GRADIENT_TOP_COLOR, constants.GRADIENT_BOTTOM_COLOR);\n        this._initSnakeContainers();\n    }\n\n    private _initBackground(topColor: string, bottomColor: string) {\n        this.removeChild(this.backgroundShape);\n        this.backgroundShape = new createjs.Shape();\n        this.backgroundShape.graphics\n            .beginLinearGradientFill([topColor, bottomColor], [0, 1], 0, 20, 0, this.canvasHeight - 20)\n            .drawRect(0, 0, this.canvasWidth, this.canvasHeight);\n        this.backgroundShape.cache(0, 0, this.canvasWidth, this.canvasHeight);\n        this.addChildAt(this.backgroundShape, 0);\n        return this.backgroundShape;\n    }\n\n    private _initSnakeContainers() {\n        // call destroy on every element to stop timers\n        this.containers.forEach((container: SnakeRowContainer) => container.destroy());\n        this.containers = [];\n        const size = this.canvasHeight / constants.LINES_COUNT;\n        for (let i = 0; i < constants.LINES_COUNT; i++) {\n            let container = new SnakeRowContainer(constants.SNAKES_PER_LINE_COUNT, size, constants.SNAKE_LENGTH, this.canvasWidth);\n            this.containers.push(container);\n            container.y = i * size;\n            this.addChild(container);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main-scene.ts","export class Scene extends createjs.Stage {\n    private _started: boolean = false;\n\n    constructor(canvas: HTMLCanvasElement | string | Object) {\n        super(canvas);\n        this.render = this.render.bind(this);\n    }\n\n    get canvasWidth() {\n        return (this.canvas as HTMLCanvasElement).width;\n    }\n\n    get canvasHeight() {\n        return (this.canvas as HTMLCanvasElement).height;\n    }\n\n    public start() {\n        if (!this._started) {\n            this._attachEvents();\n            this._started = true;\n            this.dispatchEvent(new createjs.Event('start', true, true));\n        }\n        return this;\n    }\n\n    public stop() {\n        this._started = false;\n        this._detachEvents();\n        this.dispatchEvent(new createjs.Event('stop', true, true));\n        return this;\n    }\n\n    public render() {\n        this.update();\n    }\n\n    private _attachEvents() {\n        createjs.Ticker.addEventListener('tick', this.render);\n    }\n\n    private _detachEvents() {\n        this.removeAllEventListeners();\n        createjs.Ticker.removeEventListener('tick', this.render);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes/lib/scene.ts","import { Container } from './lib/container';\nimport { Snake, SnakeDirection } from './snake';\nimport { rangeInt, chance } from '../utils/random';\n\nexport class SnakeRowContainer extends Container {\n\n    constructor(\n        public snakeCount: number = 3,\n        public snakeSize: number = 30,\n        public snakeLength: number = 10,\n        public maxWidth: number = 300\n    ) {\n        super();\n        this.randomDelay(this._initSnakes, 0, 1000);\n    }\n\n    public play() {\n        this.children.forEach((snake: Snake) => snake.play());\n    }\n\n    private _initSnakes() {\n        for (let i=0; i < this.snakeCount; i++) {\n            this.randomDelay(this.addChild.bind(this, this._createSnake()), 0, 3000);\n        }\n\n        this.on('fade', ({target}: createjs.Event) => {\n            this.removeChild(target);\n            this.addChild(this._createSnake());\n        });\n    }\n\n    private _createSnake(): Snake {\n        const x = rangeInt(0, this.maxWidth / this.snakeSize) * this.snakeSize;\n\n        let snake = new Snake(this.snakeLength, this.snakeSize);\n        snake.y = 0;\n        snake.x = x;\n        snake.direction = chance(0.5) ? SnakeDirection.Right : SnakeDirection.Left;\n\n        return snake;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/snake-row-container.ts","import { Container } from './lib/container';\nimport * as constants from '../const';\n\nexport enum SnakeDirection {\n    Left, Right, Up, Down\n}\n\nexport class Snake extends Container {\n    public direction: SnakeDirection = SnakeDirection.Left;\n\n    private _currentFrames: number[] = [];\n    private _counter: number = 0;\n    private _steps: number = 0;\n    private _stepsLeft: number = 0;\n    private _stepsRight: number = 0;\n    private _stepsUp: number = 0;\n    private _stepsDown: number = 0;\n\n    constructor(\n        public length: number = 10,\n        public size: number = 30,\n        public margin: number = 2,\n        public padding: number = 2,\n        public maxSteps: number = 10\n    ) {\n        super();\n        this._addShape(0, 0);\n    }\n\n    public play() {\n        if (this._steps <= this.maxSteps) {\n            this._move();\n        } else {\n            this._fade();\n        }\n    }\n\n    private _move() {\n        ++this._counter;\n\n        this.children.forEach((shape: createjs.Shape, index: number) => {\n            shape.alpha = this._getNextAlphaFrame(index);\n        });\n\n        if (this.children.length >= this.length) {\n            this.removeChild(this.getChildAt(0));\n            this._currentFrames.splice(0, 1);\n        }\n\n        if (this._counter % 3 === 0 && this.children.length < this.length) {\n            this._counter = 0;\n\n            this._steps++;\n            switch (this.direction) {\n                case SnakeDirection.Right:\n                    this._addShape(++this._stepsRight * this.size);\n                    break;\n                case SnakeDirection.Left:\n                    this._addShape(-(++this._stepsLeft * this.size));\n                    break;\n                case SnakeDirection.Down:\n                    this._addShape(this.x, ++this._stepsDown * this.size);\n                    break;\n                case SnakeDirection.Up:\n                    this._addShape(this.x, -(++this._stepsUp * this.size));\n                    break;\n            }\n\n            let event = new createjs.Event('step', true, true);\n            event.data = {step: this._steps};\n            this.dispatchEvent(event);\n        }\n    }\n\n    private _fade() {\n        let alive = false;\n        this.children.forEach(shape => {\n            shape.alpha -= constants.SNAKE_FADE_STEP;\n            shape.alpha > 0 && (alive = true);\n        });\n        if (!alive) {\n            this.dispatchEvent(new createjs.Event('fade', true, true));\n        }\n    }\n\n    private _addShape(x: number, y: number = 0) {\n        let shape = new createjs.Shape();\n        shape.graphics\n            .beginFill(constants.SNAKE_COLOR)\n            .drawRect(x + this.padding, y + this.padding, this.size - this.padding, this.size - this.padding);\n        shape.alpha = 0;\n        this.addChild(shape);\n    }\n\n    private _getNextAlphaFrame(shapeIndex): number {\n        if (this._currentFrames[shapeIndex] === undefined) {\n            this._currentFrames[shapeIndex] = 0;\n        } else if (this._currentFrames[shapeIndex] < constants.SNAKE_ALPHA_FRAMES.length - 1) {\n            this._currentFrames[shapeIndex]++;\n        }\n        return constants.SNAKE_ALPHA_FRAMES[this._currentFrames[shapeIndex]];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/snake.ts"],"sourceRoot":""}