!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["createjs-snakes"]=e():t["createjs-snakes"]=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CREATEJS_TIMING_MODE=createjs.Ticker.RAF_SYNCHED,e.CREATEJS_FRAMERATE=20,e.GRADIENT_TOP_COLOR="#182848",e.GRADIENT_BOTTOM_COLOR="#4b6cb7",e.LINES_COUNT=20,e.SNAKES_PER_LINE_COUNT=3,e.SNAKE_LENGTH=10,e.SNAKE_COLOR="#FFF",e.SNAKE_ALPHA_FRAMES=[0,.1,.2,.3,.3,.3,.3,.25,.2,.15,.14,.13,.12,.1],e.SNAKE_FADE_STEP=.01},function(t,e,n){"use strict";function i(t){return new r.MainScene(t).start()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.MainScene=r.MainScene,e.start=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),s=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.containers=[],n._initSceneObjects(),n}return i(e,t),e.prototype.render=function(){this.containers.forEach(function(t){return t.play()}),t.prototype.render.call(this)},e.prototype.setBgColors=function(t,e){this._initBackground(t,e)},e.prototype._initSceneObjects=function(){this._initBackground(s.GRADIENT_TOP_COLOR,s.GRADIENT_BOTTOM_COLOR),this._initSnakeContainers()},e.prototype._initBackground=function(t,e){return this.removeChild(this.backgroundShape),this.backgroundShape=new createjs.Shape,this.backgroundShape.graphics.beginLinearGradientFill([t,e],[0,1],0,20,0,this.canvasHeight-20).drawRect(0,0,this.canvasWidth,this.canvasHeight),this.backgroundShape.cache(0,0,this.canvasWidth,this.canvasHeight),this.addChildAt(this.backgroundShape,0),this.backgroundShape},e.prototype._initSnakeContainers=function(){for(var t=this.canvasHeight/s.LINES_COUNT,e=0;e<s.LINES_COUNT;e++){var n=new o.SnakeRowContainer(s.SNAKES_PER_LINE_COUNT,t,s.SNAKE_LENGTH,this.canvasWidth);this.containers.push(n),n.y=e*t,this.addChild(n)}},e}(r.Scene);e.MainScene=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._started=!1,e}return i(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.start=function(){return this._started||(this._attachEvents(),this._started=!0,this.dispatchEvent(new createjs.Event("start",!0,!0))),this},e.prototype.stop=function(){return this._started=!1,this._detachEvents(),this.dispatchEvent(new createjs.Event("stop",!0,!0)),this},e.prototype.render=function(){this.update()},e.prototype._attachEvents=function(){this.render=this.render.bind(this),createjs.Ticker.addEventListener("tick",this.render)},e.prototype._detachEvents=function(){this.removeAllEventListeners(),createjs.Ticker.removeEventListener("tick",this.render)},e}(createjs.Stage);e.Scene=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(6),s=function(t){function e(e,n,i,r){void 0===e&&(e=3),void 0===n&&(n=30),void 0===i&&(i=10),void 0===r&&(r=300);var s=t.call(this)||this;return s.snakeCount=e,s.snakeSize=n,s.snakeLength=i,s.maxWidth=r,o.randomlyDelay(s._initSnakes.bind(s),0,1e3),s}return i(e,t),e.prototype.play=function(){this.children.forEach(function(t){return t.play()})},e.prototype._initSnakes=function(){for(var t=this,e=0;e<this.snakeCount;e++)o.randomlyDelay(this._createSnake.bind(this),0,3e3).then(this.addChild.bind(this));this.on("fade",function(e){var n=e.target;t.removeChild(n),t.addChild(t._createSnake())})},e.prototype._createSnake=function(){var t=o.rangeInt(0,this.maxWidth/this.snakeSize)*this.snakeSize,e=new r.Snake(this.snakeLength,this.snakeSize);return e.y=0,e.x=t,e.direction=o.chance(.5)?r.SnakeDirection.Right:r.SnakeDirection.Left,e},e}(createjs.Container);e.SnakeRowContainer=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(r=e.SnakeDirection||(e.SnakeDirection={}));var s=function(t){function e(e,n,i,o,s){void 0===e&&(e=10),void 0===n&&(n=30),void 0===i&&(i=2),void 0===o&&(o=2),void 0===s&&(s=10);var a=t.call(this)||this;return a.length=e,a.size=n,a.margin=i,a.padding=o,a.maxSteps=s,a.direction=r.Left,a._currentFrames=[],a._counter=0,a._steps=0,a._stepsLeft=0,a._stepsRight=0,a._stepsUp=0,a._stepsDown=0,a._addShape(0,0),a}return i(e,t),e.prototype.play=function(){this._steps<=this.maxSteps?this._move():this._fade()},e.prototype._move=function(){var t=this;if(++this._counter,this.children.forEach(function(e,n){e.alpha=t._getNextAlphaFrame(n)}),this.children.length>=this.length&&(this.removeChild(this.getChildAt(0)),this._currentFrames.splice(0,1)),this._counter%3==0&&this.children.length<this.length){switch(this._counter=0,this._steps++,this.direction){case r.Right:this._addShape(++this._stepsRight*this.size);break;case r.Left:this._addShape(-++this._stepsLeft*this.size);break;case r.Down:this._addShape(this.x,++this._stepsDown*this.size);break;case r.Up:this._addShape(this.x,-++this._stepsUp*this.size)}var e=new createjs.Event("step",!0,!0);e.data={step:this._steps},this.dispatchEvent(e)}},e.prototype._fade=function(){var t=!1;this.children.forEach(function(e){e.alpha-=o.SNAKE_FADE_STEP,e.alpha>0&&(t=!0)}),t||this.dispatchEvent(new createjs.Event("fade",!0,!0))},e.prototype._addShape=function(t,e){void 0===e&&(e=0);var n=new createjs.Shape;n.graphics.beginFill(o.SNAKE_COLOR).drawRect(t+this.padding,e+this.padding,this.size-this.padding,this.size-this.padding),n.alpha=0,this.addChild(n)},e.prototype._getNextAlphaFrame=function(t){return void 0===this._currentFrames[t]?this._currentFrames[t]=0:this._currentFrames[t]<o.SNAKE_ALPHA_FRAMES.length-1&&this._currentFrames[t]++,o.SNAKE_ALPHA_FRAMES[this._currentFrames[t]]},e}(createjs.Container);e.Snake=s},function(t,e,n){"use strict";function i(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.random()*(e-t)+t}function r(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.floor(Math.random()*(e-t+1))+t}function o(t,e,n,i,o){var s=this;return void 0===e&&(e=0),void 0===n&&(n=1e3),void 0===i&&(i=null),void 0===o&&(o=null),new Promise(function(a){setTimeout(function(){a(t.apply(i||s,o))},r(e,n))})}function s(t){return void 0===t&&(t=.1),Math.random()<=t}Object.defineProperty(e,"__esModule",{value:!0}),e.range=i,e.rangeInt=r,e.randomlyDelay=o,e.chance=s}])});
//# sourceMappingURL=createjs-snakes.min.js.map